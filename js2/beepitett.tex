\section{Néhány könyvtári objektum}

\subsection{A \texttt{String} objektum}

\begin{frame}
  Főbb jellemzők:
  \begin{itemize}
    \item Immutable object (mint Java-ban)
    \item Létrehozás literálként: \kiemel{\texttt{'}}-ok vagy \kiemel{\texttt{"}}-ek között
  \end{itemize}
  Nyilvános tulajdonság:
  \begin{description}[m]
    \item[\texttt{length}] \hfill \\ A karakterlánc hossza
  \end{description}
  Metódusok
  \begin{description}[m]
    \item[\texttt{charAt()}, \texttt{[ ]}] \hfill \\ Adott indexű karakter lekérdezése
    \item[\texttt{indexOf(\emph{keresett}[, \emph{tol}])}, \texttt{lastIndexOf(\emph{keresett}[, \emph{tol}])}] \hfill \\ Rész-karakterlánc (\texttt{\emph{keresett}}) első/utolsó előfordulásának keresése \texttt{\emph{tol}} indexű helytől kezdve. \texttt{indexOf}-nál negatív index is támogatott. Ha nincs találat, a visszatérési érték $-1$.
  \end{description}
\end{frame}

\begin{frame}
  \begin{exampleblock}{\textattachfile{string.js}{Adott indexű karakter lekérése, rész-karakterlánc keresése}}
    \small
    \lstinputlisting[language=JavaScript,numbers=left,linerange=1-9,firstnumber=1]{string.js}
  \end{exampleblock}
\end{frame}

\begin{frame}
  \begin{description}[m]
    \item[\texttt{slice(\emph{tol}[, \emph{ig}])}] \hfill \\ A [\texttt{\emph{tol}}, \texttt{\emph{ig}}) index intervallumba eső karaktersorozat visszaadása. Negatív indexek támogatottak.
    \begin{exampleblock}{\textattachfile{string.js}{Rész-karakterlánc visszaadása}}
    \lstinputlisting[language=JavaScript,numbers=left,linerange=11-14,firstnumber=11]{string.js}
  \end{exampleblock}
  \end{description}
\end{frame}

\begin{frame}
  \begin{description}[m]
    \item[\texttt{concat(\emph{s1}[, \emph{s2}[, \dots[, \emph{sN}]]])}, \texttt{$+$}, \texttt{$+=$}] \hfill \\ Karakterláncok összefűzése. Az operátorok gyorsabban működnek.
    \item[\texttt{toLowerCase()}] \hfill \\ Kisbetűs alak előállítása.
    \item[\texttt{toUpperCase()}] \hfill \\ Nagybetűs alak előállítása.
    \footnotesize
    \begin{exampleblock}{\textattachfile{string.js}{Összefűzés, kis- és nagybetűs alakra alakítás}}
    \lstinputlisting[language=JavaScript,numbers=left,linerange=16-21,firstnumber=16]{string.js}
  \end{exampleblock}
  \end{description}
\end{frame}

\begin{frame}
  \begin{description}[m]
    \small
    \item[\texttt{trimStart()}, \texttt{trimEnd()}, \texttt{trim()}] \hfill \\ 
    Fehér karakterek eltávolítása egy karakterlánc elejéről, végéről, vagy mindkét végéről.
    \item[\texttt{split([\emph{elvalaszto}[, \emph{max}]])}] \hfill \\ Karakterlánc szétdarabolása, \texttt{\emph{elvalaszto}} jelek mentén (vagy reguláris kifejezéssel) és a darabok visszadása tömbben. \texttt{\emph{max}} korlátozhatja a tömb méretét.
    \item[\texttt{join([\emph{elvalaszto}])}] \hfill \\ A \kiemel{tömb} metódusa, mellyel elemei egyetlen karakterlánccá összefűzhetőek.
    \scriptsize
    \begin{exampleblock}{\textattachfile{string.js}{Fehér karakterek levágása, darabolás és összefűzés}}
    \vspace{-.3cm}
    \lstinputlisting[language=JavaScript,numbers=left,linerange=23-31,firstnumber=23]{string.js}
    \vspace{-.3cm}
  \end{exampleblock}
  \end{description}
\end{frame}

\begin{frame}
  \begin{description}[m]
    \item[\texttt{padStart(\emph{hossz}[, \emph{kitolto}])}, \texttt{padEnd(\emph{hossz}[, \emph{kitolto}])}] \hfill \\ 
    Karakterlánc meghosszabbítása \texttt{\emph{kitolto}} karakterrel balról vagy jobbról \texttt{\emph{hossz}} hosszúságúra.
    \item[\texttt{repeat(\emph{db})}] \hfill \\ Egymás után fűzés \texttt{\emph{db}} alkalommal.
    \footnotesize
    \begin{exampleblock}{\textattachfile{string.js}{Kitöltés, ismétlés}}
    \lstinputlisting[language=JavaScript,numbers=left,linerange=33-36,firstnumber=33]{string.js}
  \end{exampleblock}
  \end{description}
\end{frame}

\subsection{A \texttt{Math} objektum}

\begin{frame}
  Statikus metódusok ($\approx$ a \texttt{Math} objektum csak egy névtér):
  \begin{description}[m]
    \item[\texttt{abs(\emph{n})}] \hfill \\ \emph{n} abszolút értékét adja vissza
    \item[\texttt{floor(\emph{n})}, \texttt{ceil(\emph{n})}] \hfill \\ \emph{n}-nél kisebb/nagyobb egészek közül a legnagyobbat/legkisebbet adja
    \item[\texttt{round(\emph{n})}] \hfill \\ \emph{n}-et a legközelebbi egészre kerekíti
    \item[\texttt{min(\emph{v1}, \emph{v2}, \dots, \emph{vn})}, \texttt{max(\emph{v1}, \emph{v2}, \dots, \emph{vn})}] \hfill \\ a paraméterek közül a legkisebbet/legnagyobbat adja vissza
    \item[\texttt{pow(\emph{alap}, \emph{kitevo})}] \hfill \\ \emph{alap}-ot \emph{kitevo}-re emeli
    \item[\texttt{sqrt(\emph{n})}] \hfill \\ \emph{n} négyzetgyökét adja
  \end{description}
\end{frame}

\begin{frame}
  \begin{description}[m]
    \item[\texttt{random()}] \hfill \\ álvéletlen szám a [0; 1) intervallumból
    \item[\texttt{sin()}, \texttt{cos()}, \texttt{tan()}] \hfill \\ trigonometrikus függvények (paraméterek radiánban!)
    \item[\texttt{asin()}, \texttt{acos()}, \texttt{atan()}] \hfill \\ trigonometrikus függvények inverz függvényei
    \item[\texttt{exp()}, \texttt{log()}] \hfill \\ exponenciális fv., természetes alapú logaritmus
  \end{description}
  Konstansok
  \begin{description}[\texttt{PI}]
    \item[\texttt{PI}] 3.1415\dots
    \item[\texttt{E}] 2.71\dots
  \end{description}
\end{frame}

\begin{frame}
  Cinkelt kocka: a paraméterekkel megadható, hogy
  \begin{itemize}
    \item hány oldala van a kockának, és
    \item ezek dobási valószínűségét súlyokkal lehet befolyásolni
  \end{itemize}
  Függvény definíció és hívás egy lépésben
  \begin{exampleblock}{\textattachfile{cinkeltKocka.js}{Cinkelt kocka}}
    \footnotesize
    \vspace{-.3cm}
    \lstinputlisting[language=JavaScript,numbers=left]{cinkeltKocka.js}
    \vspace{-.3cm}
  \end{exampleblock}
\end{frame}

\begin{frame}
  Átváltás fokról radiánra
  \begin{exampleblock}{\textattachfile{deg2rad.js}{fok $\to$ radián}}
    \lstinputlisting[language=JavaScript,numbers=left]{deg2rad.js}
  \end{exampleblock}
\end{frame}

\subsection{Konverzió számok és karakterláncok között}

\begin{frame}
  \begin{exampleblock}{\textattachfile{konverzio.js}{Számok és karakterláncok közötti átalakítások}}
    \lstinputlisting[language=JavaScript,numbers=left]{konverzio.js}
  \end{exampleblock}
\end{frame}

\subsection{A \texttt{Date} objektum}

\begin{frame}
  Példány létrehozása:
  \begin{description}[m]
    \item[\texttt{new Date()}] \hfill \\ A kliens óraállását veszi fel
    \item[\texttt{new Date(\emph{időbélyeg})}] \hfill \\ A Unix-időszámítás kezdete óta eltelt ennyi ezredmp.-es állást veszi fel
    \item[\texttt{new Date(\emph{dátumStr})}] \hfill \\ \hiv{\href{https://www.rfc-editor.org/rfc/rfc2822\#page-14}{Karakterláncként}} adott időpontot veszi fel
    \item[\texttt{new Date(\emph{év}, \emph{hó}, \emph{nap}, [\emph{óra}, \emph{perc}, \emph{mp}, \emph{ezredmp}])}] \hfill \\ Adott óraállást veszi fel; hónapok számozása 0-tól kezdődik, az időformátum 24 órás 
  \end{description}
\end{frame}

\begin{frame}
  Érdekesebb metódusok:
  \begin{description}[m]
    \item[\texttt{getTime()}, \texttt{setTime()}, \texttt{Date.now()}] Időbélyeg
    \item[\texttt{getFullYear()}, \texttt{setFullYear()}] Évszám
    \item[\texttt{getMonth()}, \texttt{setMonth()}] hónap, január = 0
    \item[\texttt{getDate()}, \texttt{setDate()}] hónap napja
    \item[\texttt{getDay()}] hét napja, vasárnap = 0
    \item[\texttt{getHours()}, \texttt{setHours()}] óra 24 órás formátumban
    \item[\texttt{getMinutes()}, \texttt{setMinutes()}] perc
    \item[\texttt{getSeconds()}, \texttt{setSeconds()}] másodperc
    \item[\texttt{getMilliseconds()}, \texttt{setMilliseconds()}] ezredmásodperc
  \end{description}
\end{frame}

\begin{frame}
  Néhány exportálási lehetőség karakterláncokba
  \begin{description}[]
    \item[\texttt{toDateString()}] Pl. \texttt{Mon Oct 03 2022}
    \item[\texttt{toTimeString()}] Pl. \texttt{12:40:51 GMT+0200 (közép-európai nyári idő)}
    \item[\texttt{toString()}] \hfill \\ Pl. \texttt{Mon Oct 03 2022 12:40:51 GMT+0200 (közép-európai nyári idő)}
    \item[\texttt{toUTCString()}] Pl. \texttt{Mon, 03 Oct 2022 10:40:51 GMT}
    \item[\texttt{toISOString()}] Pl. \texttt{2022-10-03T10:40:51.039Z}
    \item[\texttt{toJSON()}] Pl. \texttt{2022-10-03T10:40:51.039Z}
    \item[\texttt{toLocaleDateString()}] Pl. \texttt{2022. 10. 03.}
    \item[\texttt{toLocaleTimeString()}] Pl. \texttt{12:40:51}
    \item[\texttt{toLocaleString()}] Pl. \texttt{2022. 10. 03. 12:40:51}
  \end{description}
  Ld. még: \hiv{\href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global\_Objects/Date/getTimezoneOffset}{getTimezoneOffset()}}
\end{frame}

\subsection{Halmazok}

\begin{frame}
  Tulajdonságok:
  \begin{itemize}
    \item Minden tárolt érték egyszer fordulhat elő benne
    \item Sorrendtartó
    \item Gyors tartalmazás-ellenőrzés (< O(n)) 
    \item \hiv{\href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global\_Objects/Set}{További részletek}}
  \end{itemize}
  Példány létrehozása:
  \begin{description}[m]
    \item[\texttt{new Set()}] \hfill \\ Üres halmaz
    \item[\texttt{new Set(\emph{karakterlánc})}] \hfill \\ \emph{karakterlánc} betűiből lesznek a halmaz elemei
    \item[\texttt{new Set(\emph{tömb})}] \hfill \\ \emph{tömb} elemeiből lesznek a halmaz elemei
  \end{description}
\end{frame}

\begin{frame}
  Érdekesebb metódusok:
  \begin{description}[m]
    \item[\texttt{add()}] Elem hozzáadása
    \item[\texttt{delete()}] Elem törlése
    \item[\texttt{clear()}] Összes elem törlése
    \item[\texttt{has()}] Tartalmazásvizsgálat
    \item[\texttt{values()}] Iterátort ad vissza az elemekre
  \end{description}
\end{frame}

\begin{frame}
  \begin{exampleblock}{\textattachfile{halmaz.js}{Alapvető halmazműveletek}}
    \footnotesize
    \lstinputlisting[language=JavaScript,numbers=left,linerange=1-10]{halmaz.js}
  \end{exampleblock}
\end{frame}

\begin{frame}
  \begin{exampleblock}{\textattachfile{halmaz.js}{Alapvető halmazműveletek}}
    \footnotesize
    \lstinputlisting[language=JavaScript,numbers=left,firstnumber=12,linerange=12-22]{halmaz.js}
  \end{exampleblock}
\end{frame}

\begin{frame}
  \begin{exampleblock}{\textattachfile{halmaz.js}{Alapvető halmazműveletek}}
    \scriptsize
    \lstinputlisting[language=JavaScript,numbers=left,firstnumber=24,linerange=24-31]{halmaz.js}
  \end{exampleblock}
\end{frame}

\subsection{A \texttt{JSON} objektum}

\begin{frame}
  JSON: \hiv{\href{https://www.json.org/json-hu.html}{JavaScript Object Notation}}
  \begin{itemize}
    \item Adatcsere formátum: pl. XML elemzéshez külön parser kell, a JS értelmező viszont eleve adott
    \item Leggyakoribb alkalmazásai: \hiv{\href{https://en.wikipedia.org/wiki/Ajax\_(programming)}{Asynchronous JavaScript and XML}} (AJAX), \hiv{\href{https://en.wikipedia.org/wiki/JSON\_Web\_Token}{JSON Web Token}} (JWT)
    \item Eltérések a JS objektumoktól, pl.
    \begin{itemize}
      \item tulajdonságnevek idézőjelek között
      \item csak egyszerű adat kifejezések szerepelhetnek (pl. függvényhívás, kötések nem)
    \end{itemize}
    \item Annotálás, validálás $\to$ \hiv{\href{https://json-schema.org/}{JSON Schema}}
  \end{itemize}
  Legfontosabb metódusok:
  \begin{description}[m]
    \item[\texttt{stringify()}] JS objektum $\to$ JSON string 
    \item[\texttt{parse()}] JSON string $\to$ JS objektum
  \end{description}
\end{frame}

\begin{frame}
  \begin{exampleblock}{\textattachfile{JSON.js}{JSON.js}}
    \footnotesize
    \vspace{-.3cm}
    \lstinputlisting[language=JavaScript,numbers=left]{JSON.js}
    \vspace{-.3cm}
  \end{exampleblock}
\end{frame}

\begin{frame}[fragile]
  \begin{block}{Kimenet}
    \begin{verbatim}
{"nev":{"titulus":"ifj.","vezetekNev":"Nagy","keresztNev":"Istvan"},
 "neptun":"a1b2c3","szuletett":"2000-06-22T22:00:00.000Z",
 "aktiv":true,"lezartFelevek":["2021/22/1","2021/22/2"]}

Object { nev: {…}, neptun: "a1b2c3", 
szuletett: "2000-06-22T22:00:00.000Z", 
aktiv: true, lezartFelevek: (2) […] }
\end{verbatim}
  \end{block}
\end{frame}

\subsection{Feladatok}

\begin{frame}
  \begin{exampleblock}{Camel case (\textattachfile{camelCase.js}{camelCase.js})}
    Írjon olyan programot, ami egy tömb elemeiként megadott szavakból \hiv{\href{https://hu.wikipedia.org/wiki/CamelCase}{camel case}} formázású azonosítót állít elő!
  \end{exampleblock}
  \vfill
  \begin{exampleblock}{Tömbelemek összekeverése (\textattachfile{kever.js}{kever.js})}
    Írjon olyan függvényt, ami összekeveri egy tömb elemeit! Ötlet: \hiv{\href{https://en.wikipedia.org/wiki/Fisher\%E2\%80\%93Yates\_shuffle}{Fisher-Yates shuffle}}
  \end{exampleblock}
  \vfill
  \begin{exampleblock}{Lottó (\textattachfile{lotto.js}{lotto.js})}
    Írjon olyan programot, ami növekvő számsorrendben megjeleníti az 5-ös lottó lehetséges nyerőszámait!
  \end{exampleblock}
\end{frame}